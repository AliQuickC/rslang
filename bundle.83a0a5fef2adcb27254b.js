(()=>{"use strict";var e={114:(e,t,n)=>{n.r(t),n.d(t,{default:()=>l,GoogleCharts:()=>i});const a=Symbol("loadScript"),s=Symbol("instance");let r;class o{get[s](){return r}set[s](e){r=e}constructor(){if(this[s])return this[s];this[s]=this}reset(){r=null}[a](){return this.scriptPromise||(this.scriptPromise=new Promise((e=>{const t=document.getElementsByTagName("body")[0],n=document.createElement("script");n.type="text/javascript",n.onload=function(){i.api=window.google,i.api.charts.load("current",{packages:["corechart","table"]}),i.api.charts.setOnLoadCallback((()=>{e()}))},n.src="https://www.gstatic.com/charts/loader.js",t.appendChild(n)}))),this.scriptPromise}load(e,t){return this[a]().then((()=>{if(t){let n={};n=t instanceof Object?t:Array.isArray(t)?{packages:t}:{packages:[t]},this.api.charts.load("current",n),this.api.charts.setOnLoadCallback(e)}else{if("function"!=typeof e)throw"callback must be a function";e()}}))}}const i=new o,l=o},544:(e,t,n)=>{n.r(t),n.d(t,{default:()=>a});const a='<div class="answer-box"> <div class="answer-box__image"></div> <div class="word-shell"> <div class="word-shell__sound-button" data-link="audio-button"></div> <span class="word-shell__word"></span> </div> </div> '},750:(e,t,n)=>{n.r(t),n.d(t,{default:()=>a});const a='<div class="audio-challenge-game-screen"> <div class="audio-challenge-game-screen__box"> <div class="current-word-audio-button" data-link="audio-button"></div> <ul class="answers-list"> <li class="answers-list__li"></li> <li class="answers-list__li"></li> <li class="answers-list__li"></li> <li class="answers-list__li"></li> <li class="answers-list__li"></li> </ul> </div> </div> '},859:(e,t,n)=>{n.r(t),n.d(t,{default:()=>a});const a='<div class="result-page"> <h4 class="resul-page__title error_title">Ошибки<span class="result-page__span errors-count"></span></h4> <ul class="result-page__ul errors-list"></ul> <h4 class="result-page__title truth_title">Верные ответы<span class="result-page__span rights-count"></span></h4> <ul class="result-page__ul right-answers-list"></ul> </div> '},190:(e,t,n)=>{n.r(t),n.d(t,{default:()=>a});const a='<li class="game-result-list-element"> <button class="word__soundbtn"></button> <span class="word__name"></span> <span class="word__translate"></span> </li> '},68:(e,t,n)=>{n.r(t),n.d(t,{default:()=>a});const a='<ul class="game-statistics"> <li class="game-statistics-li">Новых слов:<span class="game-new-words"></span></li> <li class="game-statistics-li">Процент правильных ответов:<span class="game-percent"></span></li> <li class="game-statistics-li">Лучшая серия:<span class="game-series"></span></li> </ul> '},938:(e,t,n)=>{n.r(t),n.d(t,{default:()=>a});const a='<div class="statistics-page"> <div class="day-statistics"> <h3 class="day-statistics__global-title">Статистика за день</h3> <div class="day-statistics__box"> <h4 class="day-statistics__title">Статистика по играм</h4> <div class="game-statistics__box"> <div class="game-statistics__check-box"> <label class="checkbox-label label_audio-challenge"> <input type="radio" class="game-checkbox radio_audio-challenge" name="game" checked="checked"> Аудиовызов </label> <label class="checkbox-label"> <input type="radio" class="game-checkbox radio_sprint" name="game"> Спринт </label> </div> <div class="game-statistics__results"> </div> </div> </div> <div> <h4 class="day-statistics__title">Общая статистика за день</h4> <ul class="general-statistics"> <li class="day-statistics__li">Новых слов: <span class="new-words"> 0</span></li> <li class="day-statistics__li">Изучено: <span class="learned"> 0</span></li> <li class="day-statistics__li">Процент правильных ответов: <span class="rights"> 0</span></li> </ul> </div> </div> <div> <h3>Общая статистика изучения</h3> <div class="global-statistics"> </div> </div> </div> '},73:(e,t,n)=>{n.r(t),n.d(t,{default:()=>a});const a='<span class="error-message"></span> '},373:(e,t,n)=>{n.r(t),n.d(t,{default:()=>a});const a='<div class="login-shell"> <div class="login-labels-shell"> <label class="login-labels-shell__label"> <input type="email" class="login-input email_input" placeholder="e-mail"> </label> <label class="login-labels-shell__label"> <input type="password" class="login-input password_input" placeholder="password"> </label> </div> </div> '},898:(e,t,n)=>{n.r(t),n.d(t,{default:()=>a});const a='<div class="login-shell"> <div class="login-labels-shell"> <label class="login-labels-shell__label"> <input type="text" class="login-input name_input" placeholder="name"> </label> <label class="login-labels-shell__label"> <input type="email" class="login-input email_input" placeholder="e-mail"> </label> <label class="login-labels-shell__label"> <input type="password" class="login-input password_input" placeholder="password"> </label> <label class="login-labels-shell__label"> <input type="password" class="login-input password_repeat_input" placeholder="repeat password"> </label> </div> </div> '},345:(e,t,n)=>{n.r(t),n.d(t,{default:()=>a});const a='<div class="authorization-window"> <span class="button-close">×</span> <div class="log-buttons-shell"> <button class="log-buttons-shell__button login_button activeSignButton">Log In</button> <button class="log-buttons-shell__button signup_button">Sign Up</button> </div> <div class="login-box"></div> </div> '},402:(e,t,n)=>{n.r(t)},151:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){e.innerHTML='  \n    <section class="section about-app" id="about-app">\n      <div class="container">\n        <h2 class="about-app__title">Преимущества приложения</h2>\n        <ul class="about-app__list">        \n          <li class="about-app__list-item"><div class="about-app__list-icon"></div><span>В учебнике собраны 3600 самых используемых в повседневной жизни слов</span></li>\n          <li class="about-app__list-item"><div class="about-app__list-icon"></div><span>Игры, помогают пополнять словарный запас</span></li>\n          <li class="about-app__list-item"><div class="about-app__list-icon"></div><span>Можно выбирать уровень сложности в играх</span></li>\n          <li class="about-app__list-item"><div class="about-app__list-icon"></div><span>Отмечайте выученные слова, получайте только новые знания</span></li>\n          <li class="about-app__list-item"><div class="about-app__list-icon"></div><span>Можешь отметить сложные для тебя слова, чтобы знать, на что чаще обращать внимание</span></li>\n          <li class="about-app__list-item"><div class="about-app__list-icon"></div><span>Отслеживай свой прогресс в статистике</span></li>\n        </ul>\n      </div>\n    </section>\n  '}},439:function(e,t,n){var a=this&&this.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n),Object.defineProperty(e,a,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return s(t,e),t},o=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(s,r){function o(e){try{l(a.next(e))}catch(e){r(e)}}function i(e){try{l(a.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,i)}l((a=a.apply(e,t||[])).next())}))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const l=n(127),u=r(n(272)),c=i(n(485)),d=i(n(244)),p=i(n(896)),g=i(n(320)),h=i(n(977)),m=i(n(350));function f(){const e=document.getElementById("burger-menubtn"),t=document.getElementById("nav-burger-menu");e.classList.remove("active"),t.classList.remove("active")}t.default=function(e,t){t.userSettings.authorized&&m.default.checkAuthorization(t);const n=e;n.innerHTML='\n  <header class="header" id="header">\n  </header>\n  <main class="main" id="main">\n  </main>\n  <footer class="footer" id="footer">\n  </footer>  \n  ',(0,u.default)(n.querySelector("#header"),t),l.RenderPage[t.userSettings.currentPage](n.querySelector("#main"),t),(0,c.default)(n.querySelector("#footer")),function(e){(0,u.activateMenuItem)(e)}(t),function(e){const t=new d.default(e),n=e.userSettings,a=e,s=document.getElementById("app"),r=document.getElementById("main");document.body.addEventListener("click",(i=>o(this,void 0,void 0,(function*(){if(i.target){const o=i.target.dataset.link,c=i.target.dataset.level,d=i.currentTarget;if(c&&(a.gameOptions.selectGame=i.target.dataset.gameName,a.gameOptions.wayToGetWords=l.wayToGetWords.byLevel,a.gameOptions.gameLevel=Number(c),a.gameOptions.selectGame===l.GameName.Sprint?(0,h.default)(r,a):(0,g.default)(r,a)),o){switch(o){case l.linkType.general:n.currentPage=l.CurrentPage.general,a.currentMenuItem=l.CurrentPage.general;break;case l.linkType.aboutApp:n.currentPage=l.CurrentPage.aboutApp,a.currentMenuItem=l.CurrentPage.aboutApp;break;case l.linkType.schoolbook:n.currentPage=l.CurrentPage.schoolbook,a.currentMenuItem=l.CurrentPage.schoolbook,n.schoolbookCurrentPosition.chapter=0;break;case l.linkType.audioCallGameLevel:return a.currentMenuItem=l.CurrentPage.audioCallGameLevel,a.gameOptions.selectGame=l.GameName.AudioCall,(0,p.default)(r,a),(0,u.activateMenuItem)(a),void f();case l.linkType.sprintGameLevel:return a.currentMenuItem=l.CurrentPage.sprintGameLevel,a.gameOptions.selectGame=l.GameName.Sprint,(0,p.default)(r,a),(0,u.activateMenuItem)(a),void f();case l.linkType.audioCallGame:return a.currentMenuItem=l.CurrentPage.audioCallGameLevel,a.gameOptions.wayToGetWords=l.wayToGetWords.byPage,(0,g.default)(r,a),(0,u.activateMenuItem)(a),void f();case l.linkType.sprintGame:return a.currentMenuItem=l.CurrentPage.sprintGameLevel,a.gameOptions.wayToGetWords=l.wayToGetWords.byPage,(0,h.default)(r,a),(0,u.activateMenuItem)(a),void f();case l.linkType.statistics:n.currentPage=l.CurrentPage.statistics,a.currentMenuItem=l.CurrentPage.statistics;break;case l.linkType.developmentTeam:n.currentPage=l.CurrentPage.developmentTeam,a.currentMenuItem=l.CurrentPage.developmentTeam;break;case l.linkType.login:n.authorized?(n.authorized=!1,delete n.authData,delete n.statistics,n.currentPage=l.CurrentPage.general,a.currentMenuItem=l.CurrentPage.general,(0,u.default)(s.querySelector("#header"),e)):d.append(t.getReadyElement())}l.RenderPage[n.currentPage](r,e),(0,u.activateMenuItem)(a)}if(i.target.closest("#burger-menubtn")){const e=document.getElementById("burger-menubtn"),t=document.getElementById("nav-burger-menu");return e.classList.toggle("active"),void t.classList.toggle("active")}f()}}))))}(t)}},584:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const a=n(877);t.default=class{static getWordsByGroup(e){const t=new Headers;t.append("Accept","application/json");const n={method:"GET",headers:t,redirect:"follow"},s=Math.floor(Math.random()*(a.pagesCount-1));return fetch(`${a.urlWords}?group=${e}&page=${s}`,n)}static getUserWordStatusById(){const e=new Headers;e.append("Accept","application/json"),e.append("Authorization","Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjYxZmJkMDQyMzQ5NjVmMDAxNjE4NDhiYiIsImlhdCI6MTY0NDc2MDAyOCwiZXhwIjoxNjQ0Nzc0NDI4fQ.Re1mxnl3VoxfiGf0Pz7CcI5e_TPjaR1lz7o7-bd2REQ"),fetch("https://learnwords-app.herokuapp.com/users/61fbd04234965f00161848bb/words/5e9f5ee35eb9e72bc21af4a2",{method:"GET",headers:e,redirect:"follow"}).then((e=>e.text())).then((e=>console.log(e))).catch((e=>console.log("error",e)))}static getUserWordById(e,t,n){const s=new Headers;s.append("Accept","application/json"),s.append("Authorization",`Bearer ${n}`);const r={method:"GET",headers:s,redirect:"follow"};fetch(`${a.urlUsers}/${e}/aggregatedWords/${t}`,r).then((e=>e.text())).then((e=>console.log(e))).catch((e=>console.log("error",e)))}static updateWord(e,t,n,a){const s=new Headers;s.append("Accept","application/json"),s.append("Content-Type","application/json"),s.append("Authorization","Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjYxZmJkMDQyMzQ5NjVmMDAxNjE4NDhiYiIsImlhdCI6MTY0NTIwNjE3NCwiZXhwIjoxNjQ1MjIwNTc0fQ.G7txpkbOSDrGfWZ0TAun84mqS7g5O8FS6GsSttKn6sc");const r=JSON.stringify(JSON.stringify(a));fetch(`https://learnwords-app.herokuapp.com/users/${e}/words/${t}`,{method:"PUT",headers:s,body:r,redirect:"follow"}).then((e=>e.text())).then((e=>console.log(e))).catch((e=>console.log("error",e)))}}},774:function(e,t,n){var a=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(s,r){function o(e){try{l(a.next(e))}catch(e){r(e)}}function i(e){try{l(a.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,i)}l((a=a.apply(e,t||[])).next())}))},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=s(n(584)),o=s(n(750)),i=s(n(544)),l=s(n(39)),u=n(877),c=s(n(597)),d=s(n(327)),p=n(179),g=n(640),h="audio-button";class m{constructor(e){this.currentQuestionNumber=0,this.answersResultArray=[],this.resultPageInstance=new d.default(e)}static randomSort(e){e.sort((()=>Math.random()-.5))}createRightAnswersArray(){this.rightAnswersArray=this.wordsForGameArray?this.wordsForGameArray.slice(0,10):void 0,this.rightAnswersIdArray=this.rightAnswersArray.map((e=>e.id))}createAnswersArrayForRound(){const e=this.rightAnswersArray[this.currentQuestionNumber],t=this.wordsForGameArray;this.answersArrayForRound=t.filter((t=>t.id!==e.id)),m.randomSort(this.answersArrayForRound),this.answersArrayForRound=this.answersArrayForRound.slice(0,4),this.answersArrayForRound.push(e),m.randomSort(this.answersArrayForRound)}createSoundForRound(){const e=this.rightAnswersArray[this.currentQuestionNumber],t=new Audio;t.src=`${u.urlServer}/${e.audio}`,t.volume=u.defaultAudioVolume,this.rightAnswersAudio=t}getDataForGame(e){return this.currentQuestionNumber=0,this.answersResultArray.length=0,r.default.getWordsByGroup(e).then((e=>e.ok?e.json():void 0)).then((e=>this.createGameRoundElement(e)))}getDataForGameFromBook(e){return this.state=e,this.currentQuestionNumber=0,this.answersResultArray.length=0,(0,p.generateGameWordsForSelectPage)(e.userSettings,e.userSettings.schoolbookCurrentPosition.chapter,e.userSettings.schoolbookCurrentPosition.page).then((e=>this.createGameRoundElement(e)))}createGameRoundElement(e){var t;this.wordsForGameArray=e,m.randomSort(this.wordsForGameArray),this.createRightAnswersArray();const n=this.getDataForGameRound();return null===(t=this.rightAnswersAudio)||void 0===t||t.play(),n}onClickFunction(e){var t;const n=this.rightAnswersAudio,a=e.target,s=e.currentTarget,r=s.querySelectorAll(".answers-list__li"),o=s.querySelector(".current-word-audio-button"),i=s.querySelector(".button");let l=!1;a.dataset.link===h&&(null===(t=this.rightAnswersAudio)||void 0===t||t.play(),e.stopPropagation()),a.innerText===this.rightAnswersArray[this.currentQuestionNumber].wordTranslate?(a.classList.add(g.classNameEnum.rightAnswer),l=!0,this.answersResultArray.push(!0)):"LI"!==a.tagName&&"BUTTON"!==a.tagName||(a.classList.add(g.classNameEnum.wrongAnswer),l=!0,this.answersResultArray.push(!1)),!l||this.createAnswerElement().then((e=>{r.forEach((e=>e.classList.add(g.classNameEnum.otherAnswers))),e.addEventListener("click",(e=>{e.target.dataset.link===h&&(null==n||n.play(),e.stopPropagation())})),s.removeEventListener("click",this.listener),setTimeout((()=>{this.currentQuestionNumber+=1,i.addEventListener("click",(e=>{var t;let n;e.stopPropagation(),this.currentQuestionNumber<this.rightAnswersArray.length?(n=this.getDataForGameRound(),null===(t=this.rightAnswersAudio)||void 0===t||t.play()):(n=d.default.getResultPageElement(this.rightAnswersArray,this.answersResultArray),this.resultPageInstance.updateUserWords(this.rightAnswersArray,this.answersResultArray)),s.replaceWith(n)})),i.innerText="→",o.replaceWith(e)}),400)}))}getDataForGameRound(){const e=(0,l.default)(o.default).querySelector(".audio-challenge-game-screen"),t=e.querySelector(".audio-challenge-game-screen__box"),n=e.querySelectorAll(".answers-list__li"),a=c.default.createReadyButtonElement(u.gameButtonInnerText);return t.append(a),this.createAnswersArrayForRound(),this.createSoundForRound(),e.addEventListener("click",this.listener=e=>this.onClickFunction(e)),n.forEach(((e,t)=>e.innerText=this.answersArrayForRound[t].wordTranslate)),e}createAnswerElement(){return a(this,void 0,void 0,(function*(){const e=(0,l.default)(i.default).querySelector(".answer-box"),t=e.querySelector(".answer-box__image"),n=e.querySelector(".word-shell__word"),a=this.rightAnswersArray[this.currentQuestionNumber],s=new Image;return s.src=`${u.urlServer}/${a.image}`,s.addEventListener("load",(e=>{t.style.background=`center / cover no-repeat url(${e.currentTarget.src})`})),n.innerText=a.word,e}))}}t.default=m},327:function(e,t,n){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=a(n(859)),r=a(n(190)),o=a(n(39)),i=n(127),l=n(877),u=n(576),c=a(n(634)),d=n(640);class p{constructor(e){this.state=e,this.statisticsPageInstance=new c.default(e)}static getResultPageElement(e,t){const n=(0,o.default)(s.default).querySelector(".result-page"),a=n.querySelector(".errors-list"),r=n.querySelector(".right-answers-list"),i=n.querySelector(".errors-count"),l=n.querySelector(".rights-count"),u=p.createAnswersArrayObject(e,t);return i.innerText=`  ${u.wrongAnswers.length}`,l.innerText=`  ${u.rightAnswers.length}`,p.createAnswersList(u.rightAnswers,r),p.createAnswersList(u.wrongAnswers,a),n}static createAnswersArrayObject(e,t){return{rightAnswers:e.filter(((e,n)=>t[n])),wrongAnswers:e.filter(((e,n)=>!t[n]))}}static createAnswersList(e,t){e.forEach((e=>{t.append(p.createLiElement(e))}))}static createSound(e){const t=new Audio;return t.src=`${l.urlServer}/${e.audio}`,t.volume=l.defaultAudioVolume,t}static createLiElement(e){const t=(0,o.default)(r.default).querySelector(".game-result-list-element"),n=t.querySelector(".word__soundbtn"),a=t.querySelector(".word__name"),s=t.querySelector(".word__translate");return n.addEventListener("click",(()=>{p.createSound(e).play()})),a.innerText=e.word,s.innerText=` — ${e.wordTranslate}`,t}updateUserWords(e,t){const n=e;if(this.state.userSettings.authorized){let e=0,a=0;const s=this.state.userSettings.authData;for(let r=0;r<n.length;r+=1){n[r].userWord||(n[r].userWord={difficulty:i.Difficulty.basic,optional:{answerResultArray:[]}},a+=1),n[r].userWord.optional.answerResultArray.push(t[r]);const o=n[r].userWord.optional.answerResultArray.lastIndexOf(!1)>=0?n[r].userWord.optional.answerResultArray.length-1-n[r].userWord.optional.answerResultArray.lastIndexOf(!1):n[r].userWord.optional.answerResultArray.length;t[r]||n[r].userWord.difficulty!==i.Difficulty.easy||(n[r].userWord.difficulty=i.Difficulty.basic),(n[r].userWord.difficulty===i.Difficulty.basic&&o>=3||n[r].userWord.difficulty===i.Difficulty.difficult&&o>=5)&&(n[r].userWord.difficulty=i.Difficulty.easy,e+=1),(0,u.saveUserWord)(s.userId,n[r].id,s.token,n[r].userWord).catch((e=>console.log(e)))}let r;r=this.state.gameOptions.selectGame===i.GameName.Sprint?d.gameNameEnum.sprint:d.gameNameEnum.audioChallenge,c.default.updateGameStatistics(this.state,r,t,e,a)}}}t.default=p},485:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){e.innerHTML='\n  <footer class="footer">\n    <div class="container footer-container">\n      <div class="footer-date">\n        <span class="copyright">©</span>\n        <span class="year">2022</span>\n      </div>\n\n      <a class="rss-logo" href="https://rs.school/js/" target="_blank" rel="noopener noreferrer">\n        <svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="242" height="90" viewBox="0 0 242 90">\n          <title>rss</title>\n          <path d="M137.197 3.257c-6.927 1.609-10.367 5.259-10.401 11.036-0.039 6.727 3.729 9.816 15.812 12.966 5.873 1.53 7.869 4.182 5.091 6.758-3.153 2.922-9.323 1.027-10.1-3.105-0.385-2.062-0.366-2.056-6.837-1.696l-5.735 0.318 0.276 1.806c0.425 2.784 2.722 7.082 4.68 8.758 5.802 4.964 21.78 4.455 27.25-0.872l1.6-1.558 0.307 1.811c1.125 6.663 7.892 12.923 15.677 14.504l2.5 0.509-1.477 1.935c-4.874 6.384-5.012 19.44-0.276 26.221 7.248 10.375 27.644 10.074 34.355-0.506l1.249-1.969v9.391h31.61v-10.097h-18.878v-29.416h-12.732l-0.025 4.5c-0.022 3.676-0.121 4.343-0.548 3.642-2.419-3.968-7.13-7.265-11.748-8.218l-2.489-0.515 2.526-1.898c7.858-5.906 12.752-16.681 11.495-25.307-3.305-22.669-35.958-23.020-48.395-0.523-0.802 1.448-1.485 2.68-1.519 2.737s-1.153-0.956-2.489-2.247c-2.77-2.683-4.995-3.665-12.558-5.538-7.037-1.744-8.477-2.967-6.112-5.192 2.25-2.115 7.149-0.745 8.252 2.309 0.647 1.789 0.529 1.772 8.010 1.277l4.326-0.287-0.276-1.724c-1.277-7.987-11.329-12.386-22.424-9.807zM2.635 23.268v19.755h12.732v-15.806h1.294c2.042 0 3.277 1.502 7.214 8.781l3.682 6.803 7.079 0.121c3.893 0.067 7.076 0.003 7.076-0.141 0-2.225-7.934-15.064-10.136-16.402l-1.207-0.734 2.436-1.274c9.031-4.728 7.321-18.273-2.576-20.396-1.249-0.267-7.574-0.467-14.884-0.467h-12.71v19.755zM195.401 6.952c19.87 5.186 18.051 33.064-2.824 43.242-21.268 10.37-40.222-6.654-30.113-27.045 5.898-11.897 20.984-19.316 32.934-16.194zM24.14 12.417c4.472 2.261 1.505 6.435-4.829 6.795l-3.943 0.225v-7.585l3.842 0.006c2.199 0.003 4.306 0.242 4.93 0.557zM188.373 15.91c-3.496 0.928-7.051 4.461-7.054 7.009-0.006 4.163 3.322 5.664 8.558 3.862 3.203-1.102 4.019-1.102 4.612 0.003 1.004 1.879-2.287 3.794-4.207 2.447-0.965-0.675-4.523 1.454-4.559 2.728-0.056 1.918 4.798 2.644 7.771 1.162 9.442-4.705 6.761-14.805-3.032-11.427-3.915 1.35-4.756 1.409-4.756 0.323 0-1.704 2.663-2.936 3.825-1.775 0.475 0.475 4.075-1.912 4.075-2.703 0-1.181-3.189-2.177-5.237-1.631zM174.201 25.383c-2.095 1.516-2.194 1.122 1.648 6.576 2.365 3.355 3.274 5.012 3.184 5.797-0.157 1.342-1.662 1.699-2.72 0.644-0.672-0.672-0.847-0.619-2.438 0.745-4.019 3.443 2.090 6.398 6.629 3.209 4.987-3.504 4.995-5.678 0.037-12.918-3.845-5.617-4.022-5.729-6.342-4.050zM13.044 49.621c-7.183 1.133-11.388 5.333-11.444 11.43-0.056 6.221 3.977 9.765 13.967 12.265 6.123 1.533 8.139 2.703 8.139 4.719 0 5.678-10.164 5.11-11.239-0.627-0.377-2.002-0.329-1.991-6.812-1.64l-5.749 0.312 0.287 1.8c1.311 8.252 6.109 11.686 16.799 12.021 8.477 0.264 11.391-0.557 15.092-4.258l2.534-2.534 0.931 1.257c5.386 7.284 23.58 7.774 29.554 0.793 1.747-2.039 3.707-5.881 3.907-7.65 0.141-1.246 0.101-1.268-5.223-2.883l-5.363-1.628-0.72 2.166c-2.453 7.383-11.714 7.467-13.748 0.127-0.692-2.495-0.608-8.454 0.157-11.022 1.845-6.207 9.638-7.481 12.8-2.090 1.319 2.25 0.965 2.208 6.95 0.855 5.698-1.288 5.453-1.060 4.154-3.859-5.153-11.087-22.475-13.688-31.66-4.759l-2.562 2.492-1.063-1.814c-2.649-4.523-11.005-6.846-19.682-5.473zM134.342 49.632c-4.863 0.844-9.667 3.904-12.381 7.883-0.726 1.066-0.745 0.979-0.768-3.187l-0.023-4.281h-12.732v13.61h-12.732v-13.61h-12.732v39.513h12.732v-15.806h12.732v15.806h12.732v-8.933l1.375 2.073c5.721 8.634 23.414 10.15 31.466 2.694 9.318-8.626 7.49-28.249-3.136-33.671-4.101-2.093-11.298-3.004-16.535-2.095zM20.183 57.727c0.734 0.38 1.595 1.409 2.062 2.467l0.802 1.817 8.578-0.413-0.281 2.239c-0.371 2.962-0.537 3.074-2.998 1.986-1.159-0.512-4.402-1.505-7.211-2.211-6.646-1.665-7.473-2.022-7.813-3.375-0.63-2.503 3.766-4.112 6.865-2.509zM141.871 59.279c6.502 1.806 7.819 16.729 1.789 20.278-4.503 2.649-10.201 0.394-11.537-4.57-2.655-9.863 2.264-17.786 9.748-15.708zM194.951 59.268c7.554 2.098 7.4 19.074-0.191 21.119-6.103 1.642-10.164-2.599-10.133-10.581 0.034-8.294 3.963-12.305 10.325-10.536z"></path>\n          </svg>\n      </a>\n\n      <div class="developers">\n        <a class="github-link" href="https://github.com/AliQuickC" target="_blank" rel="noopener noreferrer">\n          <span class="github-logo"></span>\n          <span class="github-name">AliQuickC</span>\n        </a>\n        <a class="github-link" href="https://github.com/MDz1985" target="_blank" rel="noopener noreferrer">\n          <span class="github-logo"></span>\n          <span class="github-name">MDz1985</span>\n        </a>\n      </div>\n    </div>\n  </footer>\n  \x3c!-- /.footer --\x3e\n  '}},320:function(e,t,n){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(127),r=a(n(774));t.default=function(e,t){const n=new r.default(t),a=()=>e.querySelector(".container");t.gameOptions.wayToGetWords===s.wayToGetWords.byPage?n.getDataForGameFromBook(t).then((e=>{a().append(e)})):n.getDataForGame(t.gameOptions.gameLevel-1).then((e=>{a().append(e)})),function(e){e.innerHTML='  \n    <section class="section audio-call" id="audio-call">\n      <div class="container">\n        <h2>Audio Call Game</h2>\n      </div>\n    </section>\n  '}(e)}},179:function(e,t,n){var a=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(s,r){function o(e){try{l(a.next(e))}catch(e){r(e)}}function i(e){try{l(a.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,i)}l((a=a.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.generateGameWordsForSelectPage=t.generateGameWordsForSelectLevel=t.getAllWordsFromChapter=void 0;const s=n(576),r=n(127),o=n(264);function i(e,t=10){return a(this,void 0,void 0,(function*(){const n=new Array(30).fill("undefined").map(((t,n)=>(0,s.getWords)(e-1,n).then((e=>e.map((e=>(0,o.convertObject)(e)))))));return(yield Promise.all(n)).reduce(((e,t)=>(e.push(...t),e)),[]).slice(0,t)}))}t.getAllWordsFromChapter=i,t.generateGameWordsForSelectLevel=function(e,t,n=10){return a(this,void 0,void 0,(function*(){if(e.authorized){const a=e.authData;return yield(0,s.getAggregatedUserWords)(a.userId,a.token,t-1,void 0,600,"").then((e=>e[0].paginatedResults.map((e=>(0,o.convertObject)(e))).filter((e=>!e.userWord||e.userWord.difficulty!==r.Difficulty.easy)).slice(0,n)))}return yield i(t,n)}))},t.generateGameWordsForSelectPage=function(e,t,n,i=10){return a(this,void 0,void 0,(function*(){const a=e.authData,l=new Array(n).fill("undefined").map(((e,i)=>(0,s.getAggregatedUserWords)(a.userId,a.token,void 0,void 0,600,`{"$and": [{"group": ${t-1}}, {"page":${n-i-1}}]}`).then((e=>e[0].paginatedResults.map((e=>(0,o.convertObject)(e))).filter((e=>!e.userWord||e.userWord.difficulty!==r.Difficulty.easy))))));return(yield Promise.all(l)).reduce(((e,t)=>(e.push(...t),e)),[]).slice(0,i)}))}},896:function(e,t,n){var a=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(s,r){function o(e){try{l(a.next(e))}catch(e){r(e)}}function i(e){try{l(a.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,i)}l((a=a.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const s=n(127);t.default=function(e,t){return a(this,void 0,void 0,(function*(){var n;e.innerHTML=`\n  <section class="section game-level">\n    <div class="container container-select-level">\n      <div class="select-level">\n        <h4 class="select-level__game-name">${(n=t.gameOptions.selectGame)===s.GameName.AudioCall?"Аудиовызов":"Спринт"}</h4>\n        <p class="select-level__title">Выберите <br> уровень сложности игры:</p>\n        <div class="select-level__btn-wrap">\n          <button data-game-name="${n}" data-level="1">1</button>\n          <button data-game-name="${n}" data-level="2">2</button>\n          <button data-game-name="${n}" data-level="3">3</button>\n          <button data-game-name="${n}" data-level="4">4</button>\n          <button data-game-name="${n}" data-level="5">5</button>\n          <button data-game-name="${n}" data-level="6">6</button>\n        </div>\n      </div>\n    </div>\n  </section>\n  `}))}},977:function(e,t,n){var a=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(s,r){function o(e){try{l(a.next(e))}catch(e){r(e)}}function i(e){try{l(a.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,i)}l((a=a.apply(e,t||[])).next())}))},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=n(127),o=n(264),i=n(179),l=s(n(327)),u=new Audio;function c(e,t){const n=e,{sprintGame:a}=t,s="./assets/sound/vol-sett.mp3",o="./assets/sound/wrong-answer.mp3";function i(n){document.querySelector("#false-btn").onclick=null,document.querySelector("#true-btn").onclick=null,window.removeEventListener("keydown",g),u.src=n,u.play(),u.onended=()=>{u.onended=null,a.currentQuestion+=1,c(e,t)}}function d(){const t=e.querySelector("#answer-indikator");let n;a.gameWords.words[a.currentQuestion].wordTranslate===a.gameWords.answerVariants[a.currentQuestion]?(a.gameWords.answerRezults[a.currentQuestion]=!1,n=o,t.classList.add("false_answer")):(a.gameWords.answerRezults[a.currentQuestion]=!0,n=s,t.classList.add("true_answer")),i(n)}function p(){const t=e.querySelector("#answer-indikator");let n;a.gameWords.words[a.currentQuestion].wordTranslate===a.gameWords.answerVariants[a.currentQuestion]?(a.gameWords.answerRezults[a.currentQuestion]=!0,n=s,t.classList.add("true_answer")):(a.gameWords.answerRezults[a.currentQuestion]=!1,n=o,t.classList.add("false_answer")),i(n)}function g(e){switch(e.code){case"ArrowLeft":d();break;case"ArrowRight":p()}}var h,m;if(u.volume=.3,0!==a.totalWords)if(a.totalWords>a.currentQuestion){n.innerHTML=(h=a.gameWords,m=a.currentQuestion,`  \n    <section class="section sprint" id="sprint">\n      <div class="container sprint-conteiner">        \n        <div class="sprint__game sprint-game" id="sprint-game">\n          <div class="sprint-game__card">\n            <p class="sprint-game__word">\n              <span class="sprint-game__word-question">${h.words[m].word}</span>\n              <span class="sprint-game__word-answer">${h.answerVariants[m]}</span>\n            </p>\n            <div class="sprint-game__answer-indikator" id="answer-indikator"></div>\n            <div class="sprint-game__buttons-wrap">\n              <button class="sprint-game__false-btn" id="false-btn">← Неверно</button>\n              <button class="sprint-game__true-btn" id="true-btn">Верно →</button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </section>\n  `);const t=e.querySelector("#false-btn"),s=e.querySelector("#true-btn");t.onclick=d,s.onclick=p,window.addEventListener("keydown",g)}else{const n=new l.default(t),s=l.default.getResultPageElement(a.gameWords.words,a.gameWords.answerRezults),r=e.querySelector(".container");r.innerHTML="",r.append(s),n.updateUserWords(a.gameWords.words,a.gameWords.answerRezults)}else n.innerHTML='  \n    <section class="section sprint" id="sprint">\n      <div class="container sprint-conteiner">        \n        <div class="sprint__game sprint-game" id="sprint-game">\n          <div class="sprint-game__card">\n            <p class="sprint-game__word-zero">\n              Все слова раздела изучены\n            </p>\n            <div class="sprint-game__buttons-wrap">              \n              <button class="sprint-game__ok-btn" id="zero-ok-btn">Ок</button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </section>\n  ',e.querySelector("#zero-ok-btn").addEventListener("click",(()=>{r.RenderPage[t.userSettings.currentPage](e,t)}),{once:!0})}t.default=function(e,t){return a(this,void 0,void 0,(function*(){const n=t;n.sprintGame={maxTotalWords:10,totalWords:0,currentQuestion:0,gameWords:{words:[],answerVariants:[],answerRezults:[]}},n.gameOptions.wayToGetWords===r.wayToGetWords.byPage?(n.gameOptions.gameLevel=n.userSettings.schoolbookCurrentPosition.chapter,n.sprintGame.gameWords.words=yield(0,i.generateGameWordsForSelectPage)(n.userSettings,n.userSettings.schoolbookCurrentPosition.chapter,n.userSettings.schoolbookCurrentPosition.page,n.sprintGame.maxTotalWords)):n.sprintGame.gameWords.words=yield(0,i.generateGameWordsForSelectLevel)(n.userSettings,n.gameOptions.gameLevel,n.sprintGame.maxTotalWords),n.sprintGame.totalWords=n.sprintGame.gameWords.words.length,n.sprintGame.gameWords.answerRezults=new Array(n.sprintGame.totalWords);const a=yield(0,i.getAllWordsFromChapter)(n.gameOptions.gameLevel,600);n.sprintGame.gameWords.answerVariants=n.sprintGame.gameWords.words.map((e=>(0,o.getRandomTrueOrFalse)()?e.wordTranslate:a[(0,o.randomInteger)(0,a.length-1)].wordTranslate)),c(e,n)}))}},143:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){e.innerHTML=(e=>`  \n    <section class="section general-section" id="general">\n      <div class="container general-container">\n        <div class="general">\n          <h1 class="general__title">Изучаем английский</h1>\n\n          <div class="general__link-wrap">\n            <div class="general__aboutapp general__item">\n              <button data-link="aboutApp"><img data-link="aboutApp" src="./assets/images/main-page/about-app.png" alt=""></button>\n              <h4>Возможности и Преимущества приложения</h4>  \n            </div>\n            <div class="general__schoolbook general__item">            \n              <button data-link="schoolbook"><img data-link="schoolbook" src="./assets/images/main-page/schoolbook.png" alt=""></button>\n              <h4>Учебник</h4>  \n            </div>\n            <div class="general__login general__item">            \n              <button data-link="login">\n              <img data-link="login" src="./assets/images/main-page/${e.authorized?"logoff":"login"}.png" alt="">\n              </button>\n              <h4>${e.authorized?"Выйти":"Войти - Зарегистрироваться"}</h4>\n            </div>\n            <div class="general__audio-call general__item">            \n              <button data-link="audio-call-game-level"><img data-link="audio-call-game-level" src="./assets/images/main-page/audio-call-game.png" alt=""></button>            \n              <h4>Игра Аудиовызов</h4>  \n            </div>\n            <div class="general__sprint-game general__item">\n              <button data-link="sprint-game-level"><img data-link="sprint-game-level" src="./assets/images/main-page/sprint-game.png" alt=""></button>  \n              <h4>Игра Спринт</h4>  \n            </div>\n            <div class="general__team general__item">            \n              <button data-link="development-team"><img data-link="development-team" src="./assets/images/main-page/team.png" alt=""></button>\n              <h4>О команде</h4>  \n            </div>\n\n          </div>\n        </div>\n\n      </div>\n    </section>\n  `)(t.userSettings)}},272:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.activateMenuItem=void 0;const a=n(127);t.activateMenuItem=function(e){document.querySelector("#header").querySelectorAll(".menu__item").forEach((t=>{t.dataset.link===a.linkType[e.currentMenuItem]?t.classList.add("active"):t.classList.remove("active")}))},t.default=function(e,t){e.innerHTML=(e=>{var t;const n=e.userSettings;return`\n  <nav class="nav-burger-menu " id="nav-burger-menu">\n    <ul class="burger-menu">\n      <li class="burger-menu__item" data-link="general">Главная</li>\n      <li class="burger-menu__item" data-link="schoolbook">Учебник</li>\n      <li class="burger-menu__item" data-link="audio-call-game-level">Игра Аудиовызов</li>\n      <li class="burger-menu__item" data-link="sprint-game-level">Игра Спринт</li>\n      ${n.authorized?'<li class="burger-menu__item" data-link="statistics">Статистика</li>':""}\n    </ul>\n  </nav>\n  <div class="container header-container">\n    <button class="nav-menubtn " id="burger-menubtn"></button>\n    <nav class="nav-header">\n      <ul class="menu">\n          <li class="menu__item active" data-link="general">Главная</li>\n          <li class="menu__item" data-link="schoolbook">Учебник</li>\n          <li class="menu__item" data-link="audio-call-game-level">Игра Аудиовызов</li>\n          <li class="menu__item" data-link="sprint-game-level">Игра Спринт</li>\n          ${n.authorized?'<li class="menu__item" data-link="statistics">Статистика</li>':""}\n      </ul>\n    </nav>\n    <div class="login">\n    <span class="login__name">${n.authorized?null===(t=n.authData)||void 0===t?void 0:t.name:"Unauthorized user"}</span>\n    <button class="login__btn" data-link="login">${n.authorized?"LogOff":"LogIn"}</button>\n  </div>\n</div>\n`})(t)}},807:function(e,t,n){var a=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(s,r){function o(e){try{l(a.next(e))}catch(e){r(e)}}function i(e){try{l(a.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,i)}l((a=a.apply(e,t||[])).next())}))},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=n(576),o=n(127),i=s(n(500)),l=n(137),u=new Audio,c="https://learnwords-app.herokuapp.com/";t.default=function(e,t){return a(this,void 0,void 0,(function*(){const n=e;n.innerHTML=(e=>`  \n    <section class="section schoolbook" id="schoolbook">\n      <div class="container">\n        <div class="chapters-wrap">\n          <button class="chapter-tab chapter1-tab" data-chapter-number="1">Раздел 1</button>\n          <button class="chapter-tab chapter2-tab" data-chapter-number="2">Раздел 2</button>\n          <button class="chapter-tab chapter3-tab" data-chapter-number="3">Раздел 3</button>\n          <button class="chapter-tab chapter4-tab" data-chapter-number="4">Раздел 4</button>\n          <button class="chapter-tab chapter5-tab" data-chapter-number="5">Раздел 5</button>\n          <button class="chapter-tab chapter6-tab" data-chapter-number="6">Раздел 6</button>\n          ${e.authorized?'<button class="chapter-tab chapter7-tab" data-chapter-number="7">Сложные слова</button>':""}\n        </div>\n        <div class="schoolbook-content" id="schoolbook-content">\n        </div>\n      </div>\n    </section>\n  `)(t.userSettings),yield(0,l.renewWoldListData)(t),yield(0,l.renewPageListData)(t,t.userSettings.schoolbookCurrentPosition.chapter),(0,i.default)(n.querySelector("#schoolbook-content"),t),function(e){a(this,void 0,void 0,(function*(){const t=e.userSettings,n=document.getElementById("schoolbook");n.addEventListener("click",(s=>a(this,void 0,void 0,(function*(){if(s.target){const a=s.target.dataset.chapterNumber,d=s.target.dataset.pageNumber;if(a)return t.schoolbookCurrentPosition.chapter=Number(a),t.schoolbookCurrentPosition.page=0,7===t.schoolbookCurrentPosition.chapter&&(yield(0,l.renewWoldListData)(e)),yield(0,l.renewPageListData)(e,t.schoolbookCurrentPosition.chapter),void(0,i.default)(n.querySelector("#schoolbook-content"),e);if(d)return t.schoolbookCurrentPosition.page=Number(d),yield(0,l.renewWoldListData)(e),yield(0,l.renewPageListData)(e,t.schoolbookCurrentPosition.chapter),void(0,i.default)(n.querySelector("#schoolbook-content"),e);if(s.target.classList.contains("word__btn")){const a=s.target.closest(".word"),{wordId:l}=a.dataset;switch(s.target.dataset.wordBtn){case o.WordCardBtn.sound:(0,r.getWordById)(l).then((e=>{u.paused&&(u.volume=.3,u.src=c+e.audio,u.play(),u.onended=()=>{u.src=c+e.audioMeaning,u.play(),u.onended=()=>{u.src=c+e.audioExample,u.play(),u.onended=null}})}));break;case o.WordCardBtn.easy:{const a=t.authData,s=e.currentPageWords.findIndex((e=>e.id===l)),u=e.currentPageWords[s];(null==u?void 0:u.userWord)?(u.userWord.difficulty===o.Difficulty.easy?u.userWord.difficulty=o.Difficulty.basic:(u.userWord.difficulty=o.Difficulty.easy,7===e.userSettings.schoolbookCurrentPosition.chapter&&e.currentPageWords.splice(s,1)),(0,r.updateUserWord)(a.userId,l,a.token,u.userWord),(0,i.default)(n.querySelector("#schoolbook-content"),e)):(u.userWord={difficulty:o.Difficulty.easy,optional:{answerResultArray:[]}},(0,r.createUserWord)(a.userId,l,a.token,u.userWord),(0,i.default)(n.querySelector("#schoolbook-content"),e));break}case o.WordCardBtn.difficult:{const a=t.authData,s=e.currentPageWords.findIndex((e=>e.id===l)),u=e.currentPageWords[s];u.userWord?(u.userWord.difficulty!==o.Difficulty.difficult?u.userWord.difficulty=o.Difficulty.difficult:7===e.userSettings.schoolbookCurrentPosition.chapter&&(u.userWord.difficulty=o.Difficulty.basic,e.currentPageWords.splice(s,1)),(0,r.updateUserWord)(a.userId,l,a.token,u.userWord),(0,i.default)(n.querySelector("#schoolbook-content"),e)):(u.userWord={difficulty:o.Difficulty.difficult,optional:{answerResultArray:[]}},(0,r.createUserWord)(a.userId,l,a.token,u.userWord),(0,i.default)(n.querySelector("#schoolbook-content"),e))}}}}}))))}))}(t)}))}},588:function(e,t,n){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=a(n(634));t.default=function(e,t){const n=e;n.innerHTML='  \n    <section class="section statistics" id="statistics">\n      <div class="container">\n        <h2>Statistics</h2>\n      </div>\n    </section>\n  ',n.querySelector("section").append(s.default.getStatisticsPageElement(t))}},84:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const a=n(114);t.default=function(e){const t=document.createElement("div");return t.className="chart",a.GoogleCharts.load((function(){const n=new a.GoogleCharts.api.visualization.DataTable;n.addColumn("number","X"),n.addColumn("number","Новых слов"),n.addColumn("number","Всего изучено");const s=e.userSettings.statistics.optional.day.statistic,r=[[0,0,0]];let o=0;s.forEach(((e,t)=>{t>0&&(o+=e.learned),r.push([t+1,e.newWords,o])})),n.addRows(r),new a.GoogleCharts.api.visualization.LineChart(t).draw(n,{hAxis:{title:"Дни изучения"},vAxis:{title:"Количество слов",min:0},series:{1:{curveType:"function"}}})})),t}},235:function(e,t,n){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(877),r=a(n(634));class o{static getStatistics(e,t){const n=new Headers;n.append("Accept","application/json"),n.append("Authorization",`Bearer ${t}`);const a={method:"GET",headers:n,redirect:"follow"};return fetch(`${s.urlUsers}/${e}/statistics`,a)}static putStatistics(e,t,n){const a=new Headers;a.append("Content-Type","application/json"),a.append("Accept","application/json"),a.append("Authorization",`Bearer ${t}`);const r={method:"PUT",headers:a,body:JSON.stringify(n),redirect:"follow"};return fetch(`${s.urlUsers}/${e}/statistics`,r)}static getStatisticsFromServer(e){const t=e,n=t.userSettings.authData;o.getStatistics(n.userId,n.token).then((e=>(e.ok||o.putStatistics(n.userId,n.token,r.default.getDefaultStatisticsObject()).then((e=>e.json())).then((e=>{e&&(t.userSettings.statistics=e)})).catch((e=>console.log(e))),e))).then((e=>e.ok?e.json():void 0)).then((e=>{if(e)if(t.userSettings.statistics=e,e.optional.day.statistic)t.userSettings.statistics.optional.day.statistic[0].newWords<e.optional.audioChallenge.newWords+e.optional.sprint.newWords&&(t.userSettings.statistics.optional.day.statistic[0].newWords=e.optional.audioChallenge.newWords+e.optional.sprint.newWords);else{t.userSettings.statistics.optional.day.statistic=[];const n={};n.newWords=e.optional.audioChallenge.newWords+e.optional.sprint.newWords,n.learned=0,t.userSettings.statistics.optional.day.statistic.push(n),t.userSettings.statistics.optional.audioChallenge.totalCount=t.userSettings.statistics.optional.audioChallenge.rightCount,t.userSettings.statistics.optional.sprint.totalCount=t.userSettings.statistics.optional.sprint.rightCount}})).catch((e=>console.log(e)))}}t.default=o},634:function(e,t,n){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=a(n(938)),r=a(n(68)),o=a(n(39)),i=n(640),l=a(n(235)),u=a(n(84));class c{constructor(e){this.state=e}static getStatisticsPageElement(e){const t=e,n=(0,o.default)(s.default).querySelector(".statistics-page"),a=n.querySelector(".radio_audio-challenge"),r=n.querySelector(".radio_sprint"),l=n.querySelector(".game-statistics__results"),d=n.querySelector(".new-words"),p=n.querySelector(".learned"),g=n.querySelector(".rights"),h=n.querySelector(".global-statistics"),m=t.userSettings.statistics;if(!m.optional.day.statistic){m.optional.day.statistic=[];const e={newWords:0,learned:0};m.optional.day.statistic.push(e)}d.innerText=` ${m.optional.day.statistic[0].newWords}`,p.innerText=` ${m.optional.day.statistic[0].learned}`;let f=100*(m.optional.audioChallenge.rightCount+m.optional.sprint.rightCount)/(m.optional.audioChallenge.totalCount+m.optional.sprint.totalCount);return(f===1/0||Number.isNaN(f))&&(f=0),g.innerText=` ${Math.round(f)}%`,l.innerHTML="",t.userSettings.statistics.optional.currentGame=i.gameNameEnum.audioChallenge,l.append(c.getGameStatisticsElement(m)),a.addEventListener("change",(()=>{t.userSettings.statistics.optional.currentGame=i.gameNameEnum.audioChallenge,l.innerHTML="",l.append(c.getGameStatisticsElement(t.userSettings.statistics))})),r.addEventListener("change",(()=>{t.userSettings.statistics.optional.currentGame=i.gameNameEnum.sprint,l.innerHTML="",l.append(c.getGameStatisticsElement(t.userSettings.statistics))})),h.append((0,u.default)(t)),n}static getDefaultStatisticsObject(){const e={learnedWords:0,optional:{}};e.optional.currentGame=i.gameNameEnum.audioChallenge,e.optional.sprint={},e.optional.sprint.bestSeries=0,e.optional.sprint.rightCount=0,e.optional.sprint.totalCount=0,e.optional.sprint.newWords=0,e.optional.audioChallenge={},e.optional.audioChallenge.bestSeries=0,e.optional.audioChallenge.rightCount=0,e.optional.audioChallenge.totalCount=0,e.optional.audioChallenge.newWords=0,e.optional.day={},e.optional.day.statistic=[],e.optional.day.currentDay=c.getCurrentDate();return e.optional.day.statistic[0]={newWords:0,learned:0},e}static getGameStatisticsElement(e){const t=e.optional.currentGame||i.gameNameEnum.audioChallenge,n=(0,o.default)(r.default).querySelector(".game-statistics"),a=n.querySelector(".game-new-words"),s=n.querySelector(".game-percent"),l=n.querySelector(".game-series"),{rightCount:u}=e.optional[t];let c=100*u/e.optional[t].totalCount;return(c===1/0||Number.isNaN(c))&&(c=0),a.innerText=` ${e.optional[t].newWords}`,s.innerText=` ${Math.round(c)}%`,l.innerText=` ${e.optional[t].bestSeries}`,n}static updateGameStatistics(e,t,n,a,s){const r=e,o=n.filter((e=>e)).length;let i=0,u=0;for(let e=0;e<n.length;e+=1)n[e]?i+=1:i>u?(u=i,i=0):i=0;u<i&&(u=i),r.userSettings.statistics?(r.userSettings.statistics.optional.day.statistic||(r.userSettings.statistics.optional.day.statistic=[]),r.userSettings.statistics.optional[t].totalCount<r.userSettings.statistics.optional[t].rightCount&&(r.userSettings.statistics.optional[t].totalCount=r.userSettings.statistics.optional[t].rightCount),r.userSettings.statistics.optional[t].newWords+=s,r.userSettings.statistics.optional[t].rightCount+=o,r.userSettings.statistics.optional[t].totalCount+=n.length,r.userSettings.statistics.optional[t].bestSeries=u>r.userSettings.statistics.optional[t].bestSeries?u:r.userSettings.statistics.optional[t].bestSeries):r.userSettings.statistics=c.getDefaultStatisticsObject(),c.updateDayStatistics(r.userSettings.statistics,s,a);const d=r.userSettings.authData;l.default.putStatistics(d.userId,d.token,r.userSettings.statistics)}static updateDayStatistics(e,t,n){const a=e,s={};a.optional.day.currentDay===c.getCurrentDate()?(a.optional.day.statistic[0].newWords+=t,a.optional.day.statistic[0].learned+=n):(s.newWords=t,s.learned=n,a.optional.day.statistic.unshift(s),a.optional.day.currentDay=c.getCurrentDate()),a.learnedWords+=a.optional.day.statistic[0].learned}static getCurrentDate(){const e=new Date;return`${String(e.getDate()).padStart(2,"0")}.${String(e.getMonth()+1).padStart(2,"0")}.${String(e.getFullYear())}`}}t.default=c},370:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){e.innerHTML='  \n    <section class="section section-team" id="team">\n      <div class="container container-team">\n        <h2 class="team__title">Команда разработчиков</h2>\n        <div class="team__wrap">\n          <div class="team__developer team__developer1 developer">\n            <img class="developer__photo" src="./assets/images/team/prog1.jpg" alt="developer foto">\n            <a class="github-link" href="https://github.com/AliQuickC" target="_blank" rel="noopener noreferrer">\n              <span class="github-logo"></span>\n              <span class="github-name developer__name">Александр</span>\n            </a>            \n            <ul class="developer__work">\n              <li>Верстка главной страници и основный частей сайта</li>\n              <li>Учебник</li>\n              <li>Логика изучения слов, отображение прогресса изучения слов</li>\n              <li>Разработка игры Спринт</li>\n            </ul>\n          </div>\n          <div class="team__developer team__developer2 developer">\n            <img class="developer__photo" src="./assets/images/team/prog.jpg" alt="developer foto">\n            <a class="github-link" href="https://github.com/MDz1985" target="_blank" rel="noopener noreferrer">\n              <span class="github-logo"></span>\n              <span class="github-name developer__name">Дмитрий</span>\n            </a>\n            <ul class="developer__work">\n              <li>Дизайн главной страници сайта</li>\n              <li>Страница авторизация пользователя</li>\n              <li>Вывод результатов игр</li>\n              <li>Разработка игры Аудиовызов</li>\n            </ul>\n          </div>\n        </div>\n      </div>\n    </section>\n  '}},597:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{static createReadyButtonElement(e,t){const n=`${e}-button`,a=document.createElement("button");return a.innerText=e,a.className=`button ${n}`,t&&a.addEventListener("click",t),a}}},289:function(e,t,n){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=a(n(73)),r=a(n(39));t.default=function(e,t){const n=(0,r.default)(s.default).querySelector(".error-message");return n.innerText=e,n.addEventListener("click",(()=>t.removeChild(n))),n}},410:function(e,t,n){var a=this&&this.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n),Object.defineProperty(e,a,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return s(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=o(n(373)),l=o(n(39)),u=o(n(597)),c=o(n(350)),d=n(127),p=r(n(272)),g=o(n(289)),h=n(877),m=o(n(235)),f=document.querySelector("body");class v{constructor(e){this.parentElement=f,this.buttonInnerText="Enter",this.onClickOnEnterButton=this.logIn,this.boxElement=(0,l.default)(i.default).querySelector(".login-shell"),v.state=e}get inputElements(){return this.boxElement.querySelectorAll(".login-input")}get emailInputElement(){return this.boxElement.querySelector(".email_input")}get passwordInputElement(){return this.boxElement.querySelector(".password_input")}returnObjectWithInfoFromInput(){return{email:this.emailInputElement.value,password:this.passwordInputElement.value}}clearInputs(){this.inputElements.forEach(((e,t)=>{this.inputElements[t].value=""}))}logIn(){const e=this.returnObjectWithInfoFromInput(),t=document.querySelector(".authorization-window");c.default.signIn(e).then((e=>{if(e.ok)return this.parentElement.removeChild(t),e.text()})).then((e=>{e?(v.state.userSettings.authData=JSON.parse(e),v.state.userSettings.authorized=!0,m.default.getStatisticsFromServer(v.state),(0,p.default)(document.querySelector("#header"),v.state),(0,p.activateMenuItem)(v.state),d.RenderPage[v.state.userSettings.currentPage](document.querySelector("#main"),v.state)):t.append((0,g.default)(h.errorMessage.wrongNameOrPassword,t))})).catch((e=>console.log(e)))}returnReadyBoxElement(){const e=u.default.createReadyButtonElement(this.buttonInnerText,(()=>this.onClickOnEnterButton()));return this.boxElement.append(e),this.boxElement}}t.default=v},820:function(e,t,n){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=a(n(898)),r=a(n(410)),o=a(n(39)),i=a(n(350)),l=a(n(272)),u=a(n(289)),c=n(877);class d extends r.default{constructor(){super(...arguments),this.onClickOnEnterButton=this.signUp,this.boxElement=(0,o.default)(s.default).querySelector(".login-shell"),this.nameInputElement=this.boxElement.querySelector(".name_input"),this.passwordRepeatInputElement=this.boxElement.querySelector(".password_repeat_input")}returnObjectWithInfoFromInput(){return{name:this.nameInputElement.value,email:this.emailInputElement.value,password:this.passwordInputElement.value}}signUp(){const e=document.querySelector(".authorization-window");this.passwordInputElement.value!==this.passwordRepeatInputElement.value?e.append((0,u.default)(c.errorMessage.wrongPasswordRepeat,e)):this.passwordInputElement.value.length<8?e.append((0,u.default)(c.errorMessage.wrongPasswordLength,e)):this.emailInputElement.value.includes("@")&&this.emailInputElement.value.includes(".")?this.nameInputElement.value.length<1?e.append((0,u.default)(c.errorMessage.wrongName,e)):i.default.createUser(this.returnObjectWithInfoFromInput()).then((t=>{if(t.ok){delete d.state.userSettings.authData,d.state.userSettings.authorized=!1;const t=(0,u.default)(c.errorMessage.registrationSuccess,e);e.append(t),t.addEventListener("click",(()=>this.parentElement.removeChild(e))),(0,l.default)(document.querySelector("#header"),d.state)}else 417===t.status&&e.append((0,u.default)(c.errorMessage.userExist,e))})).catch((e=>{console.log(e,e.status)})):e.append((0,u.default)(c.errorMessage.wrongEmail,e))}}t.default=d},244:function(e,t,n){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=a(n(345)),r=a(n(39)),o=a(n(410)),i=a(n(820));t.default=class{constructor(e){this.userAuthorizationElement=(0,r.default)(s.default).querySelector(".authorization-window"),this.buttonLogin=this.userAuthorizationElement.querySelector(".login_button"),this.buttonSignUp=this.userAuthorizationElement.querySelector(".signup_button"),this.buttonsLogAndSign=this.userAuthorizationElement.querySelectorAll(".log-buttons-shell__button"),this.buttonClose=this.userAuthorizationElement.querySelector(".button-close"),this.statusActiveButtonClass="activeSignButton",this.isLoginWindow=!0,this.boxWithLogButtons=this.userAuthorizationElement.querySelector(".log-buttons-shell"),this.loginInstance=new o.default(e),this.loginBoxElement=this.loginInstance.returnReadyBoxElement(),this.signupInstance=new i.default(e),this.signupBoxElement=this.signupInstance.returnReadyBoxElement()}switchLoginSetup(e){const t=document.querySelector(".login-shell");e.target!==this.buttonLogin||this.isLoginWindow||(t.replaceWith(this.loginBoxElement),this.switchLoginSignup()),e.target===this.buttonSignUp&&this.isLoginWindow&&(t.replaceWith(this.signupBoxElement),this.switchLoginSignup())}switchLoginSignup(){this.buttonsLogAndSign.forEach((e=>{e.classList.toggle(this.statusActiveButtonClass)})),this.isLoginWindow=!this.isLoginWindow}getReadyElement(){return this.isLoginWindow||this.switchLoginSignup(),this.userAuthorizationElement.querySelector(".login-box").innerHTML="",this.boxWithLogButtons.addEventListener("click",(e=>this.switchLoginSetup(e))),this.buttonClose.addEventListener("click",(()=>{const e=this.userAuthorizationElement.parentElement,t=this.userAuthorizationElement.querySelector(".error-message");t&&this.userAuthorizationElement.removeChild(t),e&&e.removeChild(this.userAuthorizationElement)})),this.userAuthorizationElement.querySelector(".login-box").append(this.loginBoxElement),this.userAuthorizationElement}}},350:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const a=n(877),s=n(127);class r{static getRequest(e,t,n,a){const s=new Headers;e.forEach((e=>{s.append(e.name,e.value)}));const r=a?a.padStart(a.length+1,"/"):"";fetch(`${n}${r}`,t).then((e=>e.text())).then((e=>console.log(e))).catch((e=>console.log("error",e)))}static getUser(e,t){const n=new Headers;n.append("Accept","application/json"),n.append("Authorization",`Bearer ${t}`);const s={method:"GET",headers:n,redirect:"follow"};return fetch(`${a.urlUsers}/${e}`,s)}static updateToken(e,t){const n=new Headers;n.append("Authorization",`Bearer ${t}`);const s={method:"GET",headers:n,redirect:"follow"};return fetch(`${a.urlUsers}/${e}/tokens`,s)}static updateTokenOrLogout(e){const t=e;t.userSettings.authData&&r.updateToken(t.userSettings.authData.userId,t.userSettings.authData.refreshToken).then((e=>{e.ok||(delete t.userSettings.authData,t.userSettings.authorized=!1)}))}static checkAuthorization(e){const t=e,n=t.userSettings.authData;r.getUser(n.userId,n.token).then((e=>{200===e.status||(delete t.userSettings.authData,t.userSettings.authorized=!1,delete t.userSettings.statistics,t.userSettings.currentPage=s.CurrentPage.general,t.currentMenuItem=s.CurrentPage.general)})).catch((e=>console.log(e)))}static createUser(e){const t=new Headers;t.append("Content-Type","application/json");const n={method:"POST",headers:t,body:JSON.stringify(e),redirect:"follow"};return fetch(a.urlUsers,n)}static signIn(e){const t=new Headers;t.append("Content-Type","application/json");const n={method:"POST",headers:t,body:JSON.stringify({email:e.email,password:e.password}),redirect:"follow"};return fetch(a.urlSignIn,n)}static deleteUser(e){const t=new Headers;t.append("Authorization",`Bearer ${e.token}`);const n={method:"DELETE",headers:t,redirect:"follow"};fetch(`${a.urlUsers}/${e.userId}`,n).then((e=>e.text())).then((e=>console.log(e))).catch((e=>console.log("error",e)))}}t.default=r},877:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.errorMessage=t.gameButtonInnerText=t.defaultAudioVolume=t.pagesCount=t.wordsPerPage=t.brokenAuthorizationMessage=t.localStorageCurrentUserObjectName=t.urlWords=t.urlSignIn=t.urlUsers=t.urlServer=void 0,t.urlServer="https://learnwords-app.herokuapp.com",t.urlUsers="https://learnwords-app.herokuapp.com/users",t.urlSignIn="https://learnwords-app.herokuapp.com/signin",t.urlWords="https://learnwords-app.herokuapp.com/words",t.localStorageCurrentUserObjectName="currentUser",t.brokenAuthorizationMessage="You are not authorized",t.wordsPerPage=10,t.pagesCount=30,t.defaultAudioVolume=.3,t.gameButtonInnerText="не знаю",t.errorMessage={wrongPasswordRepeat:"wrong password repeat",wrongPasswordLength:"password length must be longer than 8 character",wrongEmail:"wrong type of e-mail",wrongName:"please, enter your name",userExist:"you are currently registered, please log in",wrongNameOrPassword:"wrong name or password entered",registrationSuccess:"Congratulations!!! Now You are a registered user! Please, log in."}},39:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=document.createElement("template");return t.innerHTML=e,t.content}},640:(e,t)=>{var n,a,s;Object.defineProperty(t,"__esModule",{value:!0}),t.classNameEnum=t.linkEnum=t.gameNameEnum=void 0,(s=t.gameNameEnum||(t.gameNameEnum={})).audioChallenge="audioChallenge",s.sprint="sprint",(a=t.linkEnum||(t.linkEnum={})).audioChallenge="radio_audio-challenge",a.sprint="radio_sprint",(n=t.classNameEnum||(t.classNameEnum={})).rightAnswer="right_answer",n.wrongAnswer="wrong_answer",n.otherAnswers="other_answers"},500:function(e,t,n){var a=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(s,r){function o(e){try{l(a.next(e))}catch(e){r(e)}}function i(e){try{l(a.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,i)}l((a=a.apply(e,t||[])).next())}))},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=s(n(669));t.default=function(e,t){return a(this,void 0,void 0,(function*(){e.innerHTML=yield(e=>{const t=e,n=t.userSettings;if(7===n.schoolbookCurrentPosition.chapter&&n.authorized)return`\n    <h2 class="schoolbook-content__title">Раздел: Сложные слова</h2>\n    <div class="schoolbook-content__word-wrap">\n    ${(0,r.default)(t)}\n    </div>\n    `;if(n.schoolbookCurrentPosition.chapter>0&&n.schoolbookCurrentPosition.chapter<7&&0!==n.schoolbookCurrentPosition.page){const e=(0,r.default)(t);return`  \n    <div class="schoolbook-content__title-wrap">\n      <h2 class="schoolbook-content__title"><span>Раздел: ${n.schoolbookCurrentPosition.chapter},&nbsp</span><span>Страница: ${n.schoolbookCurrentPosition.page}</span></h2>\n      ${n.authorized?'<div class="schoolbook-content__buttons-wrap"><button class="schoolbook-content__btn button-audiocall" data-link="audio-call-game-page">Изучать с игрой - Аудиовызов</button><button class="schoolbook-content__btn button-sprint" data-link="sprint-game-page">Изучать с игрой - Спринт</button></div>':""}\n      <button class="schoolbook-content__btn button-back" data-page-number="0">↵ К списку страниц</button>\n    </div>\n    <div class="schoolbook-content__word-wrap">\n      ${e}\n    </div>\n  `}if(0===n.schoolbookCurrentPosition.chapter||7===n.schoolbookCurrentPosition.chapter&&!n.authorized)return'<h2 class="schoolbook-content__title">Выберите раздел учебника</h2>';let a="";for(let e=0;e<30;e+=1)a+=`<div class="schoolbook-content__page page-chapter${n.schoolbookCurrentPosition.chapter} ${n.authData&&t.isExploreCurrentChapterPages[e]?"page-explored":""}" data-page-number="${e+1}">Страница ${e+1}</div>`;return`<h2 class="schoolbook-content__title">Раздел: ${n.schoolbookCurrentPosition.chapter}</h2>\n    <div class="schoolbook-content__page-wrap">${a}</div> \n  `})(t)}))}},137:function(e,t,n){var a=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(s,r){function o(e){try{l(a.next(e))}catch(e){r(e)}}function i(e){try{l(a.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,i)}l((a=a.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.renewPageListData=t.renewWoldListData=t.getDifficultWoldListData=t.getWoldListData=void 0;const s=n(576),r=n(127),o=n(264);function i(e,t,n){const a=e.userSettings.authData;return(0,s.getAggregatedUserWords)(a.userId,a.token,void 0,void 0,20,`{"$and": [{"group": ${t-1}}, {"page": ${n-1}}]}`).then((e=>e[0].paginatedResults.map((e=>(0,o.convertObject)(e)))))}function l(e){return a(this,void 0,void 0,(function*(){const t=e,n=t.userSettings;return n.authorized?t.currentPageWords=yield i(t,n.schoolbookCurrentPosition.chapter,n.schoolbookCurrentPosition.page):t.currentPageWords=yield(0,s.getWords)(n.schoolbookCurrentPosition.chapter-1,n.schoolbookCurrentPosition.page-1).then((e=>e.map((e=>(0,o.convertObject)(e))))),t.currentPageWords}))}function u(e){return a(this,void 0,void 0,(function*(){const t=e,n=t.userSettings.authData;return t.currentPageWords=yield(0,s.getAggregatedUserWords)(n.userId,n.token,void 0,void 0,3600,'{"userWord.difficulty":"difficult"}').then((e=>e[0].paginatedResults.map((e=>(0,o.convertObject)(e))))),t.currentPageWords}))}t.getWoldListData=l,t.getDifficultWoldListData=u,t.renewWoldListData=function(e){return a(this,void 0,void 0,(function*(){const t=e,n=t.userSettings;return 7===n.schoolbookCurrentPosition.chapter&&n.authorized&&(yield u(t)),n.schoolbookCurrentPosition.chapter>0&&n.schoolbookCurrentPosition.chapter<7&&0!==n.schoolbookCurrentPosition.page&&(yield l(t)),[]}))},t.renewPageListData=function(e,t){return a(this,void 0,void 0,(function*(){const n=e,a=n.userSettings;if(a.authorized&&a.schoolbookCurrentPosition.chapter>0&&a.schoolbookCurrentPosition.chapter<7){const e=new Array(30).fill("undefined").map(((e,a)=>i(n,t,a+1))),a=yield Promise.all(e);return n.isExploreCurrentChapterPages=a.map((e=>e.every((e=>!(!e.userWord||e.userWord.difficulty!==r.Difficulty.easy&&e.userWord.difficulty!==r.Difficulty.difficult))))),n.isExploreCurrentChapterPages}return[]}))}},669:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const a=n(127);t.default=function(e){const t=e.userSettings;return e.currentPageWords.map((e=>{let n="",s="",r="",o="";if(t.authorized)if(void 0!==e.userWord){if(n=e.userWord.difficulty,s=n===a.Difficulty.easy?"Изученное слово":"Пометить слово как Изучено",r=n===a.Difficulty.difficult?"Сложное слово":"Добавить в Сложные слова",0!==e.userWord.optional.answerResultArray.length){const t=e.userWord.optional.answerResultArray,n=t.length,a=t.reduce(((e,t)=>t?e+1:e),0);o=`<div class="word__progress progress">\n            <progress class="progress__line" max="100" value="${Math.round(a/(n/100))}"></progress>\n            <span class="progress__info">Progress: ${a} correct out of ${n}</span>\n          </div>`}}else s="Пометить слово как Изучено",r="Добавить в Сложные слова";return`<div class="word ${n}" data-word-id="${e.id}">\n  <img class="word__picture" src="https://learnwords-app.herokuapp.com/${e.image}" alt="word picture"> \n  <div class="word__wrap1">\n    <div class="word__wrap2">\n      <span class="word__name">${e.word}</span>\n      <div class="word__translate-wrap">\n        <span class="word__translate">${e.wordTranslate}</span>\n        <span class="word__transcription">${e.transcription}</span>\n        <button class="word__soundbtn word__btn" data-word-btn="sound"></button>\n      </div>\n    </div>\n      ${t.authorized?`<div class="word__buttons"><button class="word__easybtn word__btn" title="${s}" data-word-btn="easy"></button><button class="word__difficultbtn word__btn" title="${r}" data-word-btn="difficult"></button></div>`:""}\n  </div>\n  <p class="word__meaning-wrap">\n    <span class="word__meaning">${e.textMeaning}</span><br>\n    <span class="word__meaning-translate">${e.textMeaningTranslate}</span>    \n  </p>\n  <p class="word__example-wrap">\n    <span class="word__example">${e.textExample}</span><br>\n    <span class="word__example-translate">${e.textExampleTranslate}</span>\n  </p>\n    ${o}\n  </div>`})).join("")}},303:function(e,t,n){var a=this&&this.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n),Object.defineProperty(e,a,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return s(t,e),t},o=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(s,r){function o(e){try{l(a.next(e))}catch(e){r(e)}}function i(e){try{l(a.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,i)}l((a=a.apply(e,t||[])).next())}))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),n(402);const l=r(n(172)),u=i(n(439));l.default.userSettings=l.defaultUserSettings;const c="rslangSettings";!function(){o(this,void 0,void 0,(function*(){window.addEventListener("beforeunload",(function(){localStorage.setItem(c,JSON.stringify(l.default.userSettings))})),function(){if(!localStorage.getItem(c)||"{}"===localStorage.getItem(c)){const e=JSON.stringify(l.defaultUserSettings);localStorage.setItem(c,e)}l.default.userSettings=JSON.parse(localStorage.getItem(c)),l.default.currentMenuItem=l.default.userSettings.currentPage}(),(0,u.default)(document.getElementById("app"),l.default)}))}()},576:function(e,t,n){var a=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(s,r){function o(e){try{l(a.next(e))}catch(e){r(e)}}function i(e){try{l(a.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,i)}l((a=a.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.getAggregatedUserWordById=t.getAggregatedUserWords=t.saveUserWord=t.deleteUserWord=t.updateUserWord=t.getUserWordByIdStatus=t.getUserWordById=t.createUserWord=t.getUserWords=t.getWordById=t.getWords=void 0;const s=n(264),r="https://learnwords-app.herokuapp.com",o=`${r}/users`,i=`${r}/words`;t.getWords=(e,t)=>a(void 0,void 0,void 0,(function*(){return(yield fetch(`${i}?group=${e}&page=${t}`)).json()})),t.getWordById=e=>a(void 0,void 0,void 0,(function*(){return(yield fetch(`${i}/${e}`)).json()})),t.getUserWords=(e,t)=>a(void 0,void 0,void 0,(function*(){return(yield a(void 0,void 0,void 0,(function*(){return(yield fetch(`${o}/${e}/words`,{method:"GET",headers:{Accept:"application/json",Authorization:`Bearer ${t}`}})).json()}))).map((e=>(0,s.convertToUserWord)(e)))})),t.createUserWord=(e,t,n,r)=>a(void 0,void 0,void 0,(function*(){const i=(0,s.convertUserWordToString)(r);return yield a(void 0,void 0,void 0,(function*(){return(yield fetch(`${o}/${e}/words/${t}`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:`Bearer ${n}`},body:i})).json()}))})),t.getUserWordById=(e,t,n)=>a(void 0,void 0,void 0,(function*(){const r=yield a(void 0,void 0,void 0,(function*(){return(yield fetch(`${o}/${e}/words/${t}`,{method:"GET",headers:{Accept:"application/json",Authorization:`Bearer ${n}`}})).json()}));return(0,s.convertToUserWord)(r)})),t.getUserWordByIdStatus=(e,t,n)=>a(void 0,void 0,void 0,(function*(){return(yield fetch(`${o}/${e}/words/${t}`,{method:"GET",headers:{Accept:"application/json",Authorization:`Bearer ${n}`}})).status})),t.updateUserWord=(e,t,n,r)=>a(void 0,void 0,void 0,(function*(){const i=(0,s.convertUserWordToString)(r);return yield a(void 0,void 0,void 0,(function*(){return(yield fetch(`${o}/${e}/words/${t}`,{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:`Bearer ${n}`},body:i})).json()}))})),t.deleteUserWord=(e,t,n)=>a(void 0,void 0,void 0,(function*(){return 204===(yield fetch(`${o}/${e}/words/${t}`,{method:"DELETE",headers:{Accept:"*/*",Authorization:`Bearer ${n}`}})).status})),t.saveUserWord=(e,n,s,r)=>a(void 0,void 0,void 0,(function*(){let a;return a=404===(yield(0,t.getUserWordByIdStatus)(e,n,s))?yield(0,t.createUserWord)(e,n,s,r):yield(0,t.updateUserWord)(e,n,s,r),a})),t.getAggregatedUserWords=(e,t,n,r,i=20,l="")=>a(void 0,void 0,void 0,(function*(){const u=yield a(void 0,void 0,void 0,(function*(){return(yield fetch(`${o}/${e}/aggregatedWords?group=${n||""}&page=${r||""}&wordsPerPage=${i}&filter=${l}`,{method:"GET",headers:{Accept:"application/json",Authorization:`Bearer ${t}`}})).json()}));return u[0].paginatedResults=u[0].paginatedResults.map((e=>{const t=e;return(null==e?void 0:e.userWord)?(t.userWord=(0,s.convertToUserWord)(t.userWord),t):t})),u})),t.getAggregatedUserWordById=(e,t,n)=>a(void 0,void 0,void 0,(function*(){return(yield fetch(`${o}/${e}/aggregatedWords/${t}`,{method:"GET",headers:{Accept:"application/json",Authorization:`Bearer ${n}`}})).json().then((e=>e[0]))}))},172:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.defaultUserSettings=void 0;const a=n(127);t.defaultUserSettings={authorized:!1,currentPage:a.CurrentPage.general,schoolbookCurrentPosition:{chapter:0,page:0},statistics:{},authData:{}};const s={userSettings:{},isExploreCurrentChapterPages:[],currentPageWords:[],currentMenuItem:a.CurrentPage.general,gameOptions:{selectGame:a.GameName.AudioCall,wayToGetWords:a.wayToGetWords.byLevel,gameLevel:1},sprintGame:{}};t.default=s},127:function(e,t,n){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.wayToGetWords=t.GameName=t.Difficulty=t.WordCardBtn=t.RenderPage=t.CurrentPage=t.linkType=void 0;const s=a(n(151)),r=a(n(320)),o=a(n(143)),i=a(n(977)),l=a(n(588)),u=a(n(370)),c=a(n(807)),d=a(n(896));var p,g,h,m,f,v;(v=t.linkType||(t.linkType={})).general="general",v.aboutApp="aboutApp",v.schoolbook="schoolbook",v.audioCallGameLevel="audio-call-game-level",v.sprintGameLevel="sprint-game-level",v.audioCallGame="audio-call-game-page",v.sprintGame="sprint-game-page",v.statistics="statistics",v.developmentTeam="development-team",v.login="login",(f=t.CurrentPage||(t.CurrentPage={})).general="general",f.aboutApp="aboutApp",f.schoolbook="schoolbook",f.audioCallGameLevel="audioCallGameLevel",f.sprintGameLevel="sprintGameLevel",f.audioCallGame="audioCallGame",f.sprintGame="sprintGame",f.statistics="statistics",f.developmentTeam="developmentTeam",t.RenderPage={general:o.default,aboutApp:s.default,schoolbook:c.default,audioCallGameLevel:d.default,sprintGameLevel:d.default,audioCallGame:r.default,sprintGame:i.default,statistics:l.default,developmentTeam:u.default},(m=t.WordCardBtn||(t.WordCardBtn={})).sound="sound",m.easy="easy",m.difficult="difficult",(h=t.Difficulty||(t.Difficulty={})).easy="easy",h.basic="basic",h.difficult="difficult",(g=t.GameName||(t.GameName={})).AudioCall="AudioCall",g.Sprint="Sprint",(p=t.wayToGetWords||(t.wayToGetWords={})).byLevel="byLevel",p.byPage="byPage"},264:(e,t)=>{function n(e,t){const n=e-.5+Math.random()*(t-e+1);return Math.round(n)}Object.defineProperty(t,"__esModule",{value:!0}),t.getRandomTrueOrFalse=t.randomInteger=t.convertToUserWord=t.convertUserWordToString=t.convertObject=void 0,t.convertObject=function(e){return{userWord:e.userWord?JSON.parse(JSON.stringify(e.userWord)):void 0,id:e._id?e._id:e.id,group:e.group,page:e.page,word:e.word,image:e.image,audio:e.audio,audioMeaning:e.audioMeaning,audioExample:e.audioExample,textMeaning:e.textMeaning,textExample:e.textExample,transcription:e.transcription,textExampleTranslate:e.textExampleTranslate,textMeaningTranslate:e.textMeaningTranslate,wordTranslate:e.wordTranslate}},t.convertUserWordToString=e=>JSON.stringify(e).split("").map((e=>"["===e?'"[':"]"===e?']"':e)).join(""),t.convertToUserWord=e=>JSON.parse(JSON.stringify(e).replace(/"\[/g,"[").replace(/\]"/g,"]")),t.randomInteger=n,t.getRandomTrueOrFalse=function(){return Boolean(n(0,1))}}},t={};function n(a){var s=t[a];if(void 0!==s)return s.exports;var r=t[a]={exports:{}};return e[a].call(r.exports,r,r.exports,n),r.exports}n.d=(e,t)=>{for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n(303)})();